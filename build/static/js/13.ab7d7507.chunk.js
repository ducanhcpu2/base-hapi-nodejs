(this["webpackJsonphnk-v1"]=this["webpackJsonphnk-v1"]||[]).push([[13],{182:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return r}))},469:function(e,t,a){"use strict";a.r(t);var n=a(112),c=a(0),r=a.n(c),i=a(84),l=a(202),o=a(24),u=a(31),s=a(16),b=a(8),m=a(138),O=a.n(m),f=a(142),j=a(26),p=a(34),d=a(124),g=a(141),h=a(182),E=a(463),y=a(454),N=a(455),k=a(448),C=a(451),v=a(188),w=a(468),S=a(456),T=a(244),R=a(12),P=function(e){var t,a=Object(T.a)().t,u=Object(o.d)(),s=e.onHide,m=e.onSuccessCreated,O=e.visible,f=e.modalTitle,j=e.item,d=Object(c.useState)([]),g=Object(n.a)(d,2),P=g[0],q=g[1],D=Object(c.useState)(""),H=Object(n.a)(D,2),_=H[0],F=H[1];function I(e){return function(t){var a=Object(b.map)(P,(function(t){return e.id!==t.id?Object(h.a)({},t):Object(h.a)(Object(h.a)({},e),{},{checked:!e.checked})}));q(a)}}function z(e){return function(t){var a=Object(b.map)(P,(function(t){return Object(h.a)(Object(h.a)({},t),{},{checked:e})}));q(a)}}return Object(c.useEffect)((function(){if(Object(b.get)(j,"original.id"))F(Object(b.get)(j,"original.roleName","")),u(Object(p.f)({id:Object(b.get)(j,"original.id"),pageNumber:1,pageSize:1e3},(function(e){if(e.list.length>=0){var t=Object(b.map)(P,(function(t){return-1!==e.list.findIndex((function(e){return t.id===e.idSubRole}))?Object(h.a)(Object(h.a)({},t),{},{checked:!0}):Object(h.a)(Object(h.a)({},t),{},{checked:!1})}));q(t)}}),(function(){})));else{F("");var e=Object(b.map)(P,(function(e){return Object(h.a)(Object(h.a)({},e),{},{checked:!1})}));q(e)}}),[j]),Object(c.useEffect)((function(){u(Object(p.d)({},(function(e){e.list.length>=0&&q(Object(b.map)(e.list,(function(e){return Object(h.a)(Object(h.a)({},e),{},{checked:!1})})))}),(function(){})))}),[]),r.a.createElement(E.a,{isOpen:O,className:"sipTitleModalCreateNew"},r.a.createElement(y.a,{toggle:s},f),r.a.createElement(N.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,a("T\xean quy\u1ec1n")),r.a.createElement(v.a,{value:_,onChange:(t=F,function(e){t(e.currentTarget.value)}),placeholder:a("Nh\u1eadp t\xean quy\u1ec1n")})),r.a.createElement(l.a,{className:"pl-1 pt-3",style:{justifyContent:"space-around"}},r.a.createElement(k.a,null,r.a.createElement(i.a,{color:"primary",onClick:z(!0)},"Ch\u1ecdn t\u1ea5t c\u1ea3")),r.a.createElement(k.a,null,r.a.createElement(i.a,{color:"primary",onClick:z(!1)},"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3"))),r.a.createElement(l.a,{className:"pl-1 pt-3",style:{justifyContent:"space-around"}},Object(b.map)(P,(function(e){return r.a.createElement(k.a,{key:e.id.toString()},r.a.createElement(C.a,null,e.subRoleName),r.a.createElement(w.a,{type:"switch",id:e.id.toString(),name:e.RoleCode,checked:e.checked,onChange:I(e)}))})))),r.a.createElement(S.a,{className:"justify-content-end"},r.a.createElement(i.a,{color:"primary",onClick:function(e){e.preventDefault();var t={data:Object(b.map)(P,(function(e){return{roleName:_,idSubRole:e.id,RoleCode:e.RoleCode,subRoleName:e.subRoleName,status:!0===e.checked?1:0}}))};if(Object(b.get)(j,"original.id")){var n=t.data.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{idRole:Object(b.get)(j,"original.id")})}));u(Object(p.g)({data:n},(function(){m(),Object(R.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-check-square mr-2"}),a("C\u1eadp nh\u1eadt quy\u1ec1n")," ",a("th\xe0nh c\xf4ng")),{type:"success"})}),(function(){Object(R.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-window-close mr-2"}),a("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ")),{type:"error"})})))}else u(Object(p.a)(t,(function(){m(),Object(R.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-check-square mr-2"}),a("T\u1ea1o quy\u1ec1n")," ",a("th\xe0nh c\xf4ng")),{type:"success"})}),(function(){Object(R.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-window-close mr-2"}),a("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ")),{type:"error"})})))}},a("Ghi l\u1ea1i"))))};t.default=function(e){var t=Object(o.d)(),a=O.a.parse(Object(b.get)(e,"location.search")),m=Object(b.get)(a,"pageNumber"),h=Object(b.get)(a,"pageitems"),E=Object(c.useState)(1),y=Object(n.a)(E,2),N=y[0],k=y[1],C=Object(c.useState)([]),v=Object(n.a)(C,2),w=v[0],S=v[1],T=Object(c.useState)(m?Object(b.toNumber)(m):1),R=Object(n.a)(T,2),q=R[0],D=R[1],H=Object(c.useState)(h?Object(b.toNumber)(h):20),_=Object(n.a)(H,2),F=_[0],I=_[1],z=Object(c.useState)(!1),x=Object(n.a)(z,2),B=x[0],G=x[1],J=Object(c.useState)({}),M=Object(n.a)(J,2),L=M[0],Q=M[1];Object(c.useEffect)((function(){t(Object(p.b)({pageNumber:q,pageSize:F},(function(e){e.list.length>=0&&(S(e.list),k(Object(b.toNumber)(e.total_pages)))}),(function(){})))}),[]);var A=function(e){t(Object(s.e)(Object(u.i)(j.a.THONG_TIN_CHI_TIET_ROLE,{idRole:e.id})))};function K(e){return function(){Q(e),G(!B)}}var U=function(){!0===B&&Q({}),G(!B)},V=Object(c.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"T\xean quy\u1ec1n",accessor:"roleName"},{Header:"Qu\u1ea3n tr\u1ecb",accessor:"",Cell:function(e){var t=e.row;return r.a.createElement(i.a,{className:"ml-2",color:"primary",onClick:K(t)},r.a.createElement("i",{className:"fa fa-pencil mr-2"}),"S\u1eeda")}}]}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{className:"mb-3 sipTitleContainer"},r.a.createElement("h1",{className:"sipTitle"},"Th\xf4ng tin quy\u1ec1n"),r.a.createElement("div",{className:"sipTitleRightBlock"},r.a.createElement(i.a,{className:"ml-2",color:"primary",onClick:U},r.a.createElement("i",{className:"fa fa-pencil mr-2"}),"Th\xeam m\u1edbi"))),r.a.createElement("h1",{className:"sipTitle"},"Danh s\xe1ch quy\u1ec1n"),r.a.createElement(l.a,{className:"sipTableContainer sipTableRowClickable"},r.a.createElement(f.a,{disableOnClickCellEnd:!0,columns:V,data:w,onRowClick:A})),r.a.createElement(g.a,{pageRangeDisplayed:2,marginPagesDisplayed:2,pageCount:N,onThisPaginationChange:function(e){D(e.selected+1),function(e){var a=Object(d.a)(window.location.pathname+window.location.search,{pageNumber:e});t(Object(s.f)(Object(u.i)(a)))}(e.selected+1)},setPageSize:I}),r.a.createElement(P,{visible:B,onSuccessCreated:function(){t(Object(p.b)({pageNumber:q,pageSize:F},(function(e){e.list.length>=0&&(S(e.list),k(Object(b.toNumber)(e.total_pages)))}),(function(){}))),U()},onHide:U,modalTitle:"T\u1ea1o quy\u1ec1n",item:L}))}}}]);
//# sourceMappingURL=13.ab7d7507.chunk.js.map